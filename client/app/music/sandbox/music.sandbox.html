<!-- parent controller: SidebarCtrl as sidebar -->
<!-- controller: MusicSandboxCtrl as sand -->

<toolbar></toolbar>
<music-audio></music-audio>


<div class="col-md-12 col-lg-12">
  <div id="score" class="col-md-12 col-lg-12">
    <p>Drop chord roots onto measures:</p>
    <div id="toolbar" class="btn-group btn-group-lg" ng-repeat="measure in sand.song track by $index" ng-animate=" 'animate' ">
      
      <button droppable deleteable id="song{{+$index}}" class="btn btn-default btn-block dropdown-toggle song" ng-click="sand.dropdown($index)">{{measure.currentChord}}<span class="caret"></span></button>
      <ul class="dropdown-menu" role="menu">
        <li ng-repeat="sub in sand.substitutions">
          <a href="#" ng-click="sand.updateChord($index, sub.name, sub.chordroot)">{{sub.chordroot}}{{sub.name}} {{sub.build}}</a>
        </li>
      </ul>

    </div>
	</div>
</div>